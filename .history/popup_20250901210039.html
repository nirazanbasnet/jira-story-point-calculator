<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        body {
            width: 300px;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f4f5f7;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            margin: 0;
            color: #172b4d;
            font-size: 18px;
            font-weight: 600;
        }

        .status {
            background: #fff;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #dfe1e6;
        }

        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-active {
            background: #36b37e;
        }

        .status-inactive {
            background: #ff5630;
        }

        .status-text {
            color: #172b4d;
            font-weight: 500;
        }

        .info {
            background: #deebff;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 15px;
            border-left: 4px solid #0052cc;
        }

        .info h3 {
            margin: 0 0 8px 0;
            color: #172b4d;
            font-size: 14px;
            font-weight: 600;
        }

        .info p {
            margin: 0;
            color: #42526e;
            font-size: 12px;
            line-height: 1.4;
        }

        .button {
            background: #0052cc;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            width: 100%;
            transition: background 0.2s;
        }

        .button:hover {
            background: #0747a6;
        }

        .button:disabled {
            background: #c1c7d0;
            cursor: not-allowed;
        }

        .formula {
            background: #fff;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #dfe1e6;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            color: #172b4d;
        }

        .footer {
            text-align: center;
            font-size: 11px;
            color: #6b778c;
            margin-top: 15px;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>üéØ Story Point Calculator</h1>
    </div>

    <div class="status">
        <span class="status-indicator status-active" id="statusIndicator"></span>
        <span class="status-text" id="statusText">Checking status...</span>
    </div>

    <div class="auto-status"
        style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 6px; padding: 10px; margin-bottom: 15px; text-align: center;">
        <strong>üöÄ Automatic Mode Enabled</strong><br>
        <small style="color: #0c5460;">Extension works automatically on JIRA issue pages</small>
    </div>

    <div class="info">
        <h3>How it works</h3>
        <p>The extension now works <strong>automatically</strong>! When you visit a JIRA issue page, it will:</p>
        <ul style="text-align: left; margin: 10px 0; padding-left: 20px;">
            <li>‚úÖ Auto-activate and show the floating panel</li>
            <li>‚úÖ Monitor field changes in real-time</li>
            <li>‚úÖ Automatically update story points when values change</li>
            <li>‚úÖ Work without needing to click any buttons</li>
        </ul>
        <p><strong>Note:</strong> The popup is now just for manual control if needed.</p>
    </div>

    <div class="formula">
        <strong>Formula:</strong><br>
        TW = Round(Root(Time Tracking √ó Complexity), 2)<br><br>
        <strong>Example:</strong><br>
        Time: 2.00h, Complexity: 0.20<br>
        TW = Round(Root(2.00 √ó 0.20), 2) = Round(Root(0.40), 2) = 0.63
    </div>

    <button class="button" id="activateBtn" style="background: #36b37e; margin-bottom: 10px;">üöÄ ACTIVATE
        EXTENSION</button>
    <button class="button" id="deactivateBtn" style="background: #ff5630; margin-bottom: 10px; display: none;">‚ùå
        DEACTIVATE EXTENSION</button>
    <button class="button" id="recalculateBtn" style="display: none;">üîÑ Recalculate Now</button>

    <div class="footer">
        Version 1.0 ‚Ä¢ JIRA Story Point Calculator
    </div>

    <script src="popup.js"></script>
</body>

</html>