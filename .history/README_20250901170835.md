# JIRA Story Point Calculator

A browser extension that automatically calculates story points in JIRA based on Time Tracking and Complexity fields.

## Features

- üöÄ **Automatic Calculation**: Calculates story points in real-time when fields change
- ‚è∞ **Smart Time Parsing**: Handles various time formats (25m, 1h 15m, 2.5h, 90m)
- üéØ **Complexity Support**: Works with predefined complexity values (0.1, 0.2, 0.3, 0.6, 1, 1.5, 2)
- üîÑ **Real-time Updates**: Monitors field changes and updates story points automatically
- üé® **Clean Interface**: Simple popup with status and manual recalculation option

## Formula

```
TW = Round((Time Tracking √ó Complexity), 2)
```

### Example
- **Time Tracking**: 2.00 hours
- **Complexity**: 0.30
- **Calculation**: Round((2.00 √ó 0.30), 2) = 0.60

## Supported Time Formats

| Format | Example | Hours |
|--------|---------|-------|
| Minutes | 25m | 0.42 |
| Hours | 2.5h | 2.50 |
| Mixed | 1h 15m | 1.25 |
| Decimal | 1.5 | 1.50 |

## Installation

### Chrome/Edge (Chromium-based)

1. Download or clone this repository
2. Open Chrome and go to `chrome://extensions/`
3. Enable "Developer mode" (toggle in top right)
4. Click "Load unpacked"
5. Select the folder containing this extension
6. The extension icon should appear in your toolbar

### Firefox

1. Download or clone this repository
2. Open Firefox and go to `about:debugging#/runtime/this-firefox`
3. Click "Load Temporary Add-on"
4. Select the `manifest.json` file
5. The extension will be loaded temporarily

## Usage

1. **Navigate to a JIRA issue** (must be on `*.atlassian.net` or `*.jira.com`)
2. **Ensure fields are present**:
   - Time Tracking field
   - Complexity field (with values: 0.1, 0.2, 0.3, 0.6, 1, 1.5, 2)
   - Story Point field
3. **Extension automatically activates** and monitors field changes
4. **Story points are calculated automatically** when you modify Time Tracking or Complexity
5. **Click the extension icon** to see status and manually trigger recalculation

## How It Works

1. **Field Detection**: The extension automatically finds Time Tracking, Complexity, and Story Point fields
2. **Data Extraction**: Parses time values and extracts complexity numbers
3. **Calculation**: Applies the TW formula with proper rounding
4. **Auto-update**: Populates the Story Point field automatically
5. **Real-time Monitoring**: Listens for field changes and recalculates as needed

## Field Detection

The extension tries multiple selectors to find the required fields:

### Time Tracking
- `[data-testid="issue.views.issue-base.fields.time-tracking"]`
- `.time-tracking`
- `#time-tracking`
- `[data-field-id*="time"]`
- `input[name*="time"]`

### Complexity
- `[data-testid*="complexity"]`
- `.complexity-field`
- `#complexity`
- `[data-field-id*="complexity"]`
- `input[name*="complexity"]`

### Story Points
- `[data-testid*="story-point"]`
- `[data-testid*="storypoint"]`
- `.story-point-field`
- `#story-point`
- `[data-field-id*="story"]`

## Troubleshooting

### Extension Not Working?

1. **Check Console**: Open browser DevTools (F12) and look for errors
2. **Verify Fields**: Ensure Time Tracking, Complexity, and Story Point fields exist
3. **Check Permissions**: Extension needs access to JIRA domains
4. **Refresh Page**: Try refreshing the JIRA issue page

### Fields Not Detected?

1. **Field Names**: Ensure field names contain relevant keywords (time, complexity, story)
2. **JIRA Version**: Tested with JIRA Cloud, may need adjustments for other versions
3. **Custom Fields**: Some custom field configurations may require selector updates

### Calculation Issues?

1. **Time Format**: Ensure time values match supported formats
2. **Complexity Values**: Only values 0.1, 0.2, 0.3, 0.6, 1, 1.5, 2 are supported
3. **Decimal Places**: Results are rounded to 2 decimal places

## Development

### File Structure
```
jira-story-point-calculator/
‚îú‚îÄ‚îÄ manifest.json          # Extension configuration
‚îú‚îÄ‚îÄ content.js            # Main logic for JIRA interaction
‚îú‚îÄ‚îÄ popup.html            # Extension popup interface
‚îú‚îÄ‚îÄ popup.js              # Popup functionality
‚îú‚îÄ‚îÄ icons/                # Extension icons
‚îî‚îÄ‚îÄ README.md             # This file
```

### Key Components

- **Content Script** (`content.js`): Handles JIRA field detection, parsing, and calculation
- **Popup Interface** (`popup.html` + `popup.js`): User interface and manual controls
- **Mutation Observer**: Watches for DOM changes to trigger recalculations
- **Time Parser**: Converts various time formats to decimal hours

### Adding New Features

1. **New Time Formats**: Update the `parseTimeToHours` method in `content.js`
2. **Additional Fields**: Extend the field detection selectors
3. **Custom Calculations**: Modify the `calculateTW` method
4. **UI Enhancements**: Update `popup.html` and `popup.js`

## Browser Compatibility

- ‚úÖ Chrome 88+
- ‚úÖ Edge 88+
- ‚úÖ Firefox 85+
- ‚úÖ Other Chromium-based browsers

## License

This project is open source and available under the MIT License.

## Support

If you encounter issues or have feature requests:

1. Check the troubleshooting section above
2. Review browser console for error messages
3. Verify JIRA field configurations
4. Test with different JIRA instances

---

**Note**: This extension is designed for JIRA Cloud instances. Server/Data Center versions may require additional configuration or different field selectors.
